<!DOCTYPE HTML>
<!--
	Hi this is a prototype 
	(you're probably looking too closely if you can see this)
-->
<html>
	<head>
		<title>Prototype</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<!-- Leaflet CSS -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	</head>
	<body class="is-preload">
		<!-- Wrapper -->
			<div id="wrapper" class="divided">

				<!-- Opener -->
					<section class="banner style1 orient-left content-align-left image-position-right fullscreen onload-image-fade-in onload-content-fade-right">
						<div class="content">
							<h2>Canadian Municipal Climate Action Inventory (Buildings sector)</h2>
							<p class="major">
								Explore our database of building sector municipal climate actions across Canada to gain a better understanding of how municipalities are changing the built environment to reach net-zero.
							</p>
							<ul class="actions stacked">
								<li><a href="#background" class="button big wide smooth-scroll-middle">Get Started</a></li>
							</ul>
							<p> I'm also still deciding on pictures for this section, see ideas <a href="openerdemo.html">here</a></p>
						</div>
						<div class="image">
							<img src="images/aerialtoronto.jpg" alt="" />
						</div>
					</section>

				<!-- CGLL details and stuff -->
					<section class="wrapper style1 align-center" id="background">
						<div class="inner">
							<div class="index align-left">
								<section>
									<div class="content">
										<dl>
											<h3> <b>About the CGLL</b></h3>
										</dl>
										<p>
											...
										</p>
									</div>
								</section>
							</div>
						</div>
					</section>
				<!-- Data and methodology and stuff -->
					<section class="wrapper style1 align-center" id="background">
						<div class="inner">
							<div class="index align-left">
								<section>
									<div class="content">
										<dl>
											<h3><b>More about the data</b></h3>
										</dl>
										<h3>Data collection</h3>
										<p>[text goes here]</p>
										<table>
											<tr>
												<th>Inclusion</th>
												<th>Exclusion</th>
											</tr>
											<tr>
												<td>[text goes here]</td>
												<td>[text goes here]</td>
											</tr>
										</table>
										<h3>Data analysis</h3>
										<p>[text goes here]</p>
									</div>
								</section>
							</div>
						</div>
					</section>

				<!-- Choosing a database view -->
				<section class="wrapper style1 align-center" id="tableofcontents">
					<div class="inner">
						<h3><b>See the data</b></h3>
						<ul class="actions fit">
							<li><a id="btn-national" href="#national_view" class="button fit" role="button" aria-pressed="false">National view</a></li>
							<li><a id="btn-provincial" href="#provincial_view" class="button fit" role="button" aria-pressed="false">Provincial view</a></li>
							<li><a id="btn-municipal" href="#municipal_view" class="button fit" role="button" aria-pressed="false">Municipal view</a></li>

						</ul>
					</div>
				</section>

				<!-- NATIONAL VIEW -->
				<section class="wrapper style1 align-center" id="national_view">
					<div class="inner">
						<div class="index align-left">
							<section> <!-- levers test -->
								<header>
									<h3>Levers by province (National)</h3>
									<p style="font-size:90%">This stacked bar shows the proportion (%) of levers across provinces.</p>
								</header>
								<div class="content">
									<div>
										<div class="chart-wrapper">
											<canvas id="nationalleverschart"></canvas>
										</div>
									</div>
								</div>
							</section>
							<section> <!-- map test -->
								<header>
									<h3>map!</h3>
									<p style="font-size:90%;">
										is there where it should be? or should it go further up towards the top? Should it have this margin for info? <br> <br> 
										do we want any more info on the tooltips? <br> <br>
										are the map boundaries looking okay? I was playing around with it for awhile. <br> <br>
										also, I can easily change the marker icons, I just need a transparent png file. </style>
									</p>
								</header>
								<div class="content">
									<div>
										<div id="map"></div>
									</div>
								</div>
							</section>
						</div> 
					</div> 
				</section> 

			<!-- PROVINCIAL VIEW (hidden by default) -->
			<section class="wrapper style1 align-center" id="provincial_view" style="display:none;">
					<div class="inner">
						<div class="index align-left">
						<!-- Province selector (populated from data/cities.json) -->
						<div style="margin-bottom:1rem;">
							<label for="province-select-prov" style="font-weight:600; display:block; margin-bottom:0.25rem;">Select a province:</label>
							<select id="province-select-prov" class="fit" style="max-width:18rem; padding:0.5rem;">
								<option value="">Loading…</option>
							</select>
						</div>

						<!-- Provincial stacked levers chart (selected province vs national) -->
						<!-- Show placeholder until a province is chosen -->
						<div id="provincial-placeholder" class="geo-placeholder">Select your geography</div>

						<div id="provincial-content" style="display:none;">
							<header>
								<h3>Levers — Selected province vs National</h3>
								<p style="font-size:90%">This stacked bar shows the proportion (%) of levers across from the selected province to the national sample.</p>
							</header>
							<div class="chart-wrapper" style="margin-top:1rem;">
								<canvas id="provincialleverschart"></canvas>
							</div>
						</div>
						</div> 
					</div> 
				</section> 

			<!-- MUNICIPAL VIEW (hidden by default) -->
			<section class="wrapper style1 align-center" id="municipal_view" style="display:none;">
					<div class="inner">
						<div class="index align-left">
						<!-- Province + City selectors (cities.json) -->
						<div style="margin-bottom:1rem; display:flex; gap:1rem; flex-wrap:wrap;">
							<div>
								<label for="province-select-mun" style="font-weight:600; display:block; margin-bottom:0.25rem;">Province</label>
								<select id="province-select-mun" class="fit" style="max-width:18rem; padding:0.5rem;"></select>
							</div>
							<div>
								<label for="city-select-mun" style="font-weight:600; display:block; margin-bottom:0.25rem;">City</label>
								<select id="city-select-mun" class="fit" style="max-width:22rem; padding:0.5rem;"></select>
							</div>
						
						<!-- Municipal CAP table: appears only when a province is selected -->
						<div id="municipal-cap-table-container" style="margin-bottom:1rem;">
							<div id="municipal-cap-table" style="display:none;"></div>
						</div>
						</div>
						
						<!-- Municipal stacked levers chart (city, province, national) -->
						<div id="municipal-content" style="display:none;">
							<header>
								<h3>Levers — City, Province, National</h3>
								<p style="font-size:90%">This stacked bar shows the proportion (%) of levers across from the selected municipality to its province to the national sample.</p>
							</header>
							<div class="chart-wrapper" style="margin-top:1rem;">
								<canvas id="municipalleverschart"></canvas>
							</div>
						</div>
					</div> 
					</div> 
				</section> 


				<!-- Footer -->
				<footer class="wrapper style1 align-center">
					<div class="inner">
						<p>[footer text?]</p>
					</div>
				</footer>

			</div> 
		<!-- Scripts -->						
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

			<!-- Leaflet JS and map initializer -->
			<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
			<script src="assets/js/map.js"></script>

			<!-- View toggler moved to external file -->
			<script src="assets/js/view-toggler.js"></script>
			<script src="assets/js/cities-dropdowns.js"></script>
			<script src="assets/js/visual_captable.js"></script>
            <script src="assets/js/visual_stackedleverchart.js"></script>

	</body>

</html>
